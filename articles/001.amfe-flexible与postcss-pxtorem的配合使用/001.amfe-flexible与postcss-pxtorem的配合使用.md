# amfe-flexible 与 postcss-pxtorem 的配合使用

## 1、amfe-flexible 的安装与使用

### 1.1、简介

amfe-flexible 是一个根据当前窗口大小，实时调整页面 root 元素 font-size 属性值的插件，通过调整 root 的 font-size 属性值，从而改变与之关联的 rem 值的大小,在默认状态下，1rem=窗口宽度像素/10。举个例子，当你的窗口宽度为 1920px 时，你想画一个 100px 的宽度的元素的时候，元素的 width = 100\*(10/1920) rem = 0.5208rem。之后你缩小窗口后，元素也会自动跟着缩写。如，将窗口从 1920px 调整到 960px,则此时的 font-size 值为 960/10 = 96px,则 1rem = 96px 则 0.5208rem = 49.9968px。差不多也是缩小了一半。

### 1.2、安装与使用

可以使用以下命令进行安装：

```
npm install amfe-flexible
```

本文以 vue3+vite 项目举例使用方法。
在 vue 的 main.ts 文件中引入 amfe-flexible 即可应用成功，代码如下：

```javascript
import "./assets/main.css";
import "amfe-flexible"; //amfe-flexible库引入并使用

import { createApp } from "vue";
import App from "./App.vue";

createApp(App).mount("#app");
```

### 1.3 使用效果

准备，在 App.vue 中准备 2 个 box，分别为 100px 大小和 0.5208rem 大小。变化窗口，查看变化。代码如下：

```javascript
<script setup lang="ts"></script>

<template>
  <div class="box1"></div>
  <div class="box2"></div>
</template>

<style scoped>
.box1 {
  width: 100px;
  height: 100px;
  background-color: red;
}
.box2 {
  width: 0.5208rem;
  height: 0.5208rem;
  background-color: green;
}
</style>

```

演示效果如下：
![演示图片](https://github.com/MilletQ/Blogs/blob/637252c4e9f9ea189cc95f6628b108d6950de3d2/articles/001.amfe-flexible%E4%B8%8Epostcss-pxtorem%E7%9A%84%E9%85%8D%E5%90%88%E4%BD%BF%E7%94%A8/images/1.gif?raw=true "演示效果")

上图可以看到，设置 100px 的红色 box 并不会受到窗口大小调整的影响，而设置 0.5208rem 的绿色 box 在初始状态下和红色 box 的大小相同，在窗口调整时候，绿色 box 也跟着动态调整。
